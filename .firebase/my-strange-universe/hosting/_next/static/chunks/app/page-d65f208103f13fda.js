(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2751:(e,t,a)=>{Promise.resolve().then(a.bind(a,8942))},8942:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>eu});var r=a(5155),n=a(2115),s=a(4253),i=a(2085),o=a(5546),d=a(9434);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:a,variant:n,size:i,asChild:o=!1,...c}=e,u=o?s.DX:"button";return(0,r.jsx)(u,{className:(0,d.cn)(l({variant:n,size:i,className:a})),ref:t,...c})});c.displayName="Button";let u=n.forwardRef((e,t)=>{let{className:a,type:n,...s}=e;return(0,r.jsx)("input",{type:n,className:(0,d.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...s})});u.displayName="Input";var f=a(7489);let m=n.forwardRef((e,t)=>{let{className:a,orientation:n="horizontal",decorative:s=!0,...i}=e;return(0,r.jsx)(f.b,{ref:t,decorative:s,orientation:n,className:(0,d.cn)("shrink-0 bg-border","horizontal"===n?"h-[1px] w-full":"h-full w-[1px]",a),...i})});m.displayName=f.b.displayName;var p=a(5821),h=a(5318);let x=p.bL;p.l9,p.bm;let b=p.ZL,g=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(p.hJ,{className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n,ref:t})});g.displayName=p.hJ.displayName;let v=(0,i.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),w=n.forwardRef((e,t)=>{let{side:a="right",className:n,children:s,...i}=e;return(0,r.jsxs)(b,{children:[(0,r.jsx)(g,{}),(0,r.jsxs)(p.UC,{ref:t,className:(0,d.cn)(v({side:a}),n),...i,children:[s,(0,r.jsxs)(p.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,r.jsx)(h.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});function y(e){let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,d.cn)("animate-pulse rounded-md bg-muted",t),...a})}w.displayName=p.UC.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(p.hE,{ref:t,className:(0,d.cn)("text-lg font-semibold text-foreground",a),...n})}).displayName=p.hE.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(p.VY,{ref:t,className:(0,d.cn)("text-sm text-muted-foreground",a),...n})}).displayName=p.VY.displayName;var j=a(8082);let N=j.Kq,S=j.bL,M=j.l9,z=n.forwardRef((e,t)=>{let{className:a,sideOffset:n=4,...s}=e;return(0,r.jsx)(j.UC,{ref:t,sideOffset:n,className:(0,d.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...s})});z.displayName=j.UC.displayName;let k=n.createContext(null);function C(){let e=n.useContext(k);if(!e)throw Error("useSidebar must be used within a SidebarProvider.");return e}let R=n.forwardRef((e,t)=>{let{defaultOpen:a=!0,open:s,onOpenChange:i,className:o,style:l,children:c,...u}=e,f=function(){let[e,t]=n.useState(void 0);return n.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),a=()=>{t(window.innerWidth<768)};return e.addEventListener("change",a),t(window.innerWidth<768),()=>e.removeEventListener("change",a)},[]),!!e}(),[m,p]=n.useState(!1),[h,x]=n.useState(a),b=null!=s?s:h,g=n.useCallback(e=>{let t="function"==typeof e?e(b):e;i?i(t):x(t),document.cookie="".concat("sidebar_state","=").concat(t,"; path=/; max-age=").concat(604800)},[i,b]),v=n.useCallback(()=>f?p(e=>!e):g(e=>!e),[f,g,p]);n.useEffect(()=>{let e=e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),v())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[v]);let w=b?"expanded":"collapsed",y=n.useMemo(()=>({state:w,open:b,setOpen:g,isMobile:f,openMobile:m,setOpenMobile:p,toggleSidebar:v}),[w,b,g,f,m,p,v]);return(0,r.jsx)(k.Provider,{value:y,children:(0,r.jsx)(N,{delayDuration:0,children:(0,r.jsx)("div",{style:{"--sidebar-width":"16rem","--sidebar-width-icon":"3rem",...l},className:(0,d.cn)("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",o),ref:t,...u,children:c})})})});R.displayName="SidebarProvider";let E=n.forwardRef((e,t)=>{let{side:a="left",variant:n="sidebar",collapsible:s="offcanvas",className:i,children:o,...l}=e,{isMobile:c,state:u,openMobile:f,setOpenMobile:m}=C();return"none"===s?(0,r.jsx)("div",{className:(0,d.cn)("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",i),ref:t,...l,children:o}):c?(0,r.jsx)(x,{open:f,onOpenChange:m,...l,children:(0,r.jsx)(w,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:a,children:(0,r.jsx)("div",{className:"flex h-full w-full flex-col",children:o})})}):(0,r.jsxs)("div",{ref:t,className:"group peer hidden md:block text-sidebar-foreground","data-state":u,"data-collapsible":"collapsed"===u?s:"","data-variant":n,"data-side":a,children:[(0,r.jsx)("div",{className:(0,d.cn)("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===n||"inset"===n?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),(0,r.jsx)("div",{className:(0,d.cn)("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex","left"===a?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===n||"inset"===n?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",i),...l,children:(0,r.jsx)("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:o})})]})});E.displayName="Sidebar",n.forwardRef((e,t)=>{let{className:a,onClick:n,...s}=e,{toggleSidebar:i}=C();return(0,r.jsxs)(c,{ref:t,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:(0,d.cn)("h-7 w-7",a),onClick:e=>{null==n||n(e),i()},...s,children:[(0,r.jsx)(o.A,{}),(0,r.jsx)("span",{className:"sr-only",children:"Toggle Sidebar"})]})}).displayName="SidebarTrigger",n.forwardRef((e,t)=>{let{className:a,...n}=e,{toggleSidebar:s}=C();return(0,r.jsx)("button",{ref:t,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:s,title:"Toggle Sidebar",className:(0,d.cn)("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",a),...n})}).displayName="SidebarRail";let P=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("main",{ref:t,className:(0,d.cn)("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",a),...n})});P.displayName="SidebarInset",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(u,{ref:t,"data-sidebar":"input",className:(0,d.cn)("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",a),...n})}).displayName="SidebarInput";let _=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,"data-sidebar":"header",className:(0,d.cn)("flex flex-col gap-2 p-2",a),...n})});_.displayName="SidebarHeader",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,"data-sidebar":"footer",className:(0,d.cn)("flex flex-col gap-2 p-2",a),...n})}).displayName="SidebarFooter",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(m,{ref:t,"data-sidebar":"separator",className:(0,d.cn)("mx-2 w-auto bg-sidebar-border",a),...n})}).displayName="SidebarSeparator";let F=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,"data-sidebar":"content",className:(0,d.cn)("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",a),...n})});F.displayName="SidebarContent";let A=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,"data-sidebar":"group",className:(0,d.cn)("relative flex w-full min-w-0 flex-col p-2",a),...n})});A.displayName="SidebarGroup",n.forwardRef((e,t)=>{let{className:a,asChild:n=!1,...i}=e,o=n?s.DX:"div";return(0,r.jsx)(o,{ref:t,"data-sidebar":"group-label",className:(0,d.cn)("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",a),...i})}).displayName="SidebarGroupLabel",n.forwardRef((e,t)=>{let{className:a,asChild:n=!1,...i}=e,o=n?s.DX:"button";return(0,r.jsx)(o,{ref:t,"data-sidebar":"group-action",className:(0,d.cn)("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",a),...i})}).displayName="SidebarGroupAction",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,"data-sidebar":"group-content",className:(0,d.cn)("w-full text-sm",a),...n})}).displayName="SidebarGroupContent",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("ul",{ref:t,"data-sidebar":"menu",className:(0,d.cn)("flex w-full min-w-0 flex-col gap-1",a),...n})}).displayName="SidebarMenu",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("li",{ref:t,"data-sidebar":"menu-item",className:(0,d.cn)("group/menu-item relative",a),...n})}).displayName="SidebarMenuItem";let q=(0,i.F)("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}});n.forwardRef((e,t)=>{let{asChild:a=!1,isActive:n=!1,variant:i="default",size:o="default",tooltip:l,className:c,...u}=e,f=a?s.DX:"button",{isMobile:m,state:p}=C(),h=(0,r.jsx)(f,{ref:t,"data-sidebar":"menu-button","data-size":o,"data-active":n,className:(0,d.cn)(q({variant:i,size:o}),c),...u});return l?("string"==typeof l&&(l={children:l}),(0,r.jsxs)(S,{children:[(0,r.jsx)(M,{asChild:!0,children:h}),(0,r.jsx)(z,{side:"right",align:"center",hidden:"collapsed"!==p||m,...l})]})):h}).displayName="SidebarMenuButton",n.forwardRef((e,t)=>{let{className:a,asChild:n=!1,showOnHover:i=!1,...o}=e,l=n?s.DX:"button";return(0,r.jsx)(l,{ref:t,"data-sidebar":"menu-action",className:(0,d.cn)("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",i&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",a),...o})}).displayName="SidebarMenuAction",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,"data-sidebar":"menu-badge",className:(0,d.cn)("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",a),...n})}).displayName="SidebarMenuBadge",n.forwardRef((e,t)=>{let{className:a,showIcon:s=!1,...i}=e,o=n.useMemo(()=>"".concat(Math.floor(40*Math.random())+50,"%"),[]);return(0,r.jsxs)("div",{ref:t,"data-sidebar":"menu-skeleton",className:(0,d.cn)("rounded-md h-8 flex gap-2 px-2 items-center",a),...i,children:[s&&(0,r.jsx)(y,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),(0,r.jsx)(y,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":o}})]})}).displayName="SidebarMenuSkeleton",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("ul",{ref:t,"data-sidebar":"menu-sub",className:(0,d.cn)("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",a),...n})}).displayName="SidebarMenuSub",n.forwardRef((e,t)=>{let{...a}=e;return(0,r.jsx)("li",{ref:t,...a})}).displayName="SidebarMenuSubItem",n.forwardRef((e,t)=>{let{asChild:a=!1,size:n="md",isActive:i,className:o,...l}=e,c=a?s.DX:"a";return(0,r.jsx)(c,{ref:t,"data-sidebar":"menu-sub-button","data-size":n,"data-active":i,className:(0,d.cn)("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground","sm"===n&&"text-xs","md"===n&&"text-sm","group-data-[collapsible=icon]:hidden",o),...l})}).displayName="SidebarMenuSubButton";var D=a(7250),L=a(9556);let T=D.bL,U=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(D.q7,{ref:t,className:(0,d.cn)("border-b",a),...n})});U.displayName="AccordionItem";let I=n.forwardRef((e,t)=>{let{className:a,children:n,...s}=e;return(0,r.jsx)(D.Y9,{className:"flex",children:(0,r.jsxs)(D.l9,{ref:t,className:(0,d.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",a),...s,children:[n,(0,r.jsx)(L.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});I.displayName=D.l9.displayName;let V=n.forwardRef((e,t)=>{let{className:a,children:n,...s}=e;return(0,r.jsx)(D.UC,{ref:t,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...s,children:(0,r.jsx)("div",{className:(0,d.cn)("pb-4 pt-0",a),children:n})})});V.displayName=D.UC.displayName;var B=a(968);let W=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),G=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(B.b,{ref:t,className:(0,d.cn)(W(),a),...n})});G.displayName=B.b.displayName;var H=a(4073);let O=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsxs)(H.bL,{ref:t,className:(0,d.cn)("relative flex w-full touch-none select-none items-center",a),...n,children:[(0,r.jsx)(H.CC,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,r.jsx)(H.Q6,{className:"absolute h-full bg-primary"})}),(0,r.jsx)(H.zi,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});O.displayName=H.bL.displayName;var Y=a(3433),X=a(7381),$=a(518);let J=Y.bL;Y.YJ;let Q=Y.WT,Z=n.forwardRef((e,t)=>{let{className:a,children:n,...s}=e;return(0,r.jsxs)(Y.l9,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...s,children:[n,(0,r.jsx)(Y.In,{asChild:!0,children:(0,r.jsx)(L.A,{className:"h-4 w-4 opacity-50"})})]})});Z.displayName=Y.l9.displayName;let K=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(Y.PP,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...n,children:(0,r.jsx)(X.A,{className:"h-4 w-4"})})});K.displayName=Y.PP.displayName;let ee=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(Y.wn,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...n,children:(0,r.jsx)(L.A,{className:"h-4 w-4"})})});ee.displayName=Y.wn.displayName;let et=n.forwardRef((e,t)=>{let{className:a,children:n,position:s="popper",...i}=e;return(0,r.jsx)(Y.ZL,{children:(0,r.jsxs)(Y.UC,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:s,...i,children:[(0,r.jsx)(K,{}),(0,r.jsx)(Y.LM,{className:(0,d.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,r.jsx)(ee,{})]})})});et.displayName=Y.UC.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(Y.JU,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...n})}).displayName=Y.JU.displayName;let ea=n.forwardRef((e,t)=>{let{className:a,children:n,...s}=e;return(0,r.jsxs)(Y.q7,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...s,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(Y.VF,{children:(0,r.jsx)($.A,{className:"h-4 w-4"})})}),(0,r.jsx)(Y.p4,{children:n})]})});ea.displayName=Y.q7.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(Y.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...n})}).displayName=Y.wv.displayName;var er=a(1603),en=a(154),es=a(3097),ei=a(8567);function eo(e){let{universeType:t,onUniverseChange:a,onAddGeometry:n,onAddWormhole:s,onConfigChange:i,initialSpeed:o,initialDistance:d,initialBallSize:l,initialUniverseSize:u}=e;return(0,r.jsxs)(E,{children:[(0,r.jsx)(_,{className:"border-b",children:(0,r.jsx)("h2",{className:"text-2xl font-headline font-bold text-primary-foreground/90",children:"Strange Universe"})}),(0,r.jsx)(F,{children:(0,r.jsxs)(A,{children:[(0,r.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,r.jsx)(G,{htmlFor:"universe-type",children:"Universe Type"}),(0,r.jsxs)(J,{onValueChange:e=>a(e),value:t,children:[(0,r.jsx)(Z,{id:"universe-type",children:(0,r.jsx)(Q,{placeholder:"Select a universe"})}),(0,r.jsxs)(et,{children:[(0,r.jsx)(ea,{value:"wormhole",children:"Wormhole"}),(0,r.jsx)(ea,{value:"portals",children:"Portals"}),(0,r.jsx)(ea,{value:"infinity",children:"Infinity Universe"})]})]})]}),(0,r.jsxs)(T,{type:"multiple",defaultValue:["item-1","item-2","item-3","item-4","item-5","item-6","item-7","item-8"],className:"w-full",children:[(0,r.jsxs)(U,{value:"item-1",children:[(0,r.jsx)(I,{children:"Camera Controls"}),(0,r.jsx)(V,{className:"space-y-4 pt-2",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(G,{htmlFor:"camera-distance",children:"Camera Distance"}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(O,{id:"camera-distance",min:5,max:80,step:1,value:[d],onValueChange:e=>{i({distance:e[0]})}}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground w-8 text-center",children:d.toFixed(0)})]})]})})]}),"wormhole"===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(U,{value:"item-2",children:[(0,r.jsx)(I,{children:"Universe Controls"}),(0,r.jsx)(V,{className:"space-y-4 pt-2",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(G,{htmlFor:"wormhole-speed",children:"Wormhole Speed"}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(O,{id:"wormhole-speed",min:.1,max:2,step:.1,value:[o],onValueChange:e=>{i({wormholeSpeed:e[0]})}}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground w-8 text-center",children:o.toFixed(1)})]})]})})]}),(0,r.jsxs)(U,{value:"item-3",children:[(0,r.jsx)(I,{children:"Add Geometry"}),(0,r.jsxs)(V,{className:"space-y-2 pt-4",children:[(0,r.jsxs)(c,{onClick:()=>n("cube"),className:"w-full justify-start",variant:"ghost",children:[(0,r.jsx)(er.A,{className:"mr-2 h-4 w-4"}),"Add Cube"]}),(0,r.jsxs)(c,{onClick:()=>n("sphere"),className:"w-full justify-start",variant:"ghost",children:[(0,r.jsx)(en.A,{className:"mr-2 h-4 w-4"}),"Add Sphere"]}),(0,r.jsxs)(c,{onClick:()=>n("cone"),className:"w-full justify-start",variant:"ghost",children:[(0,r.jsx)(es.A,{className:"mr-2 h-4 w-4"}),"Add Cone"]})]})]}),(0,r.jsxs)(U,{value:"item-4",children:[(0,r.jsx)(I,{children:"Add Wormhole"}),(0,r.jsx)(V,{className:"space-y-2 pt-4",children:(0,r.jsxs)(c,{onClick:s,className:"w-full justify-start",variant:"ghost",children:[(0,r.jsx)(ei.A,{className:"mr-2 h-4 w-4"}),"Add Wormhole Entrance"]})})]})]}),"portals"===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(U,{value:"item-6",children:[(0,r.jsx)(I,{children:"Portal Controls"}),(0,r.jsxs)(V,{className:"pt-4 text-sm text-muted-foreground",children:[(0,r.jsx)("p",{className:"font-medium",children:"Use keyboard to place portals:"}),(0,r.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("code",{className:"font-mono p-1 text-xs bg-muted rounded-sm",children:"P"})," — Place Entrance Portal (Blue)"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("code",{className:"font-mono p-1 text-xs bg-muted rounded-sm",children:"O"})," — Place Exit Portal (Red)"]})]})]})]}),(0,r.jsxs)(U,{value:"item-7",children:[(0,r.jsx)(I,{children:"Object Controls"}),(0,r.jsx)(V,{className:"space-y-4 pt-2",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(G,{htmlFor:"ball-size",children:"Ball Size"}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(O,{id:"ball-size",min:.1,max:1.5,step:.1,value:[l],onValueChange:e=>{i({ballSize:e[0]})}}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground w-8 text-center",children:l.toFixed(1)})]})]})})]})]}),"infinity"===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(U,{value:"item-8",children:[(0,r.jsx)(I,{children:"Universe Controls"}),(0,r.jsx)(V,{className:"space-y-4 pt-2",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(G,{htmlFor:"universe-size",children:"Universe Size"}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(O,{id:"universe-size",min:50,max:500,step:10,value:[u],onValueChange:e=>{i({universeSize:e[0]})}}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground w-8 text-center",children:u.toFixed(0)})]})]})})]}),(0,r.jsxs)(U,{value:"item-7",children:[(0,r.jsx)(I,{children:"Object Controls"}),(0,r.jsx)(V,{className:"pt-4 text-sm text-muted-foreground",children:(0,r.jsxs)("p",{className:"font-medium",children:["Press ",(0,r.jsx)("code",{className:"font-mono p-1 text-xs bg-muted rounded-sm",children:"F"})," to generate an object in front of you."]})})]}),(0,r.jsxs)(U,{value:"item-6",children:[(0,r.jsx)(I,{children:"Flight Controls"}),(0,r.jsx)(V,{className:"pt-4 text-sm text-muted-foreground",children:(0,r.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("code",{className:"font-mono p-1 text-xs bg-muted rounded-sm",children:"Shift"})," — Fly Up"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("code",{className:"font-mono p-1 text-xs bg-muted rounded-sm",children:"Control"})," — Fly Down"]})]})})]})]}),(0,r.jsxs)(U,{value:"item-5",children:[(0,r.jsx)(I,{children:"Code Example"}),(0,r.jsxs)(V,{className:"pt-2",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground pb-2",children:"Create a custom object:"}),(0,r.jsx)("pre",{className:"bg-muted/50 p-3 rounded-md overflow-x-auto",children:(0,r.jsx)("code",{className:"font-code text-xs text-accent-foreground/80",children:"const geometry = new THREE.BoxGeometry(1, 1, 1);\nconst material = new THREE.MeshStandardMaterial({\n  color: 0xBF00FF,\n});\nconst cube = new THREE.Mesh(geometry, material);\nscene.add(cube);"})})]})]})]})]})})]})}var ed=a(7431);function el(e){let{universeType:t,config:a,geometries:s,placedWormholes:i,onConfigChange:o}=e,d=(0,n.useRef)(null),l=(0,n.useRef)(new ed.YJl),c=(0,n.useRef)(new ed.YJl),u=(0,n.useRef)([]),f=(0,n.useRef)([]),m=(0,n.useRef)([]),p=(0,n.useRef)(),h=(0,n.useRef)(new ed.Pq0(0,5,5)),x=(0,n.useRef)({}),b=(0,n.useRef)(a);(0,n.useEffect)(()=>{b.current=a},[a]);let g=(0,n.useRef)(o);(0,n.useEffect)(()=>{g.current=o},[o]);let v=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{let e;if(!d.current)return;let a=d.current,r=new ed.JeP({antialias:!0,alpha:!1}),n=new ed.Z58,s=new ed.ubm(75,window.innerWidth/window.innerHeight,.1,2e3);s.position.set(0,5,b.current.distance);let i={isDragging:!1,previousMousePosition:{x:0,y:0},rotation:{x:-.2,y:0}};r.setSize(a.clientWidth,a.clientHeight),r.setPixelRatio(window.devicePixelRatio),r.shadowMap.enabled=!0,a.appendChild(r.domElement);let o=[];for(let e=0;e<15e3;e++){let e=(Math.random()-.5)*2e3,t=(Math.random()-.5)*2e3,a=(Math.random()-.5)*2e3;o.push(e,t,a)}let w=new ed.LoY;w.setAttribute("position",new ed.qtW(o,3));let y=new ed.BH$({color:0xffffff,size:.5,sizeAttenuation:!0}),j=new ed.ONl(w,y);n.add(j);let N=null;if("wormhole"===t){n.background=new ed.Q1f(0);let e=new ed.$p8(0xffffff,.2);n.add(e);let t=new ed.HiM(0xbf00ff,2,100);t.position.set(0,0,15),n.add(t);let a=new ed.B6O(Array.from({length:5},(e,t)=>new ed.Pq0(15*Math.sin(1.5*t),10*Math.cos(t),15*t-30)),!0,"catmullrom",.5),r=new ed.j6(a,100,3,16,!1);N=new ed.BKk({vertexShader:"\n  varying vec2 vUv;\n  void main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  }\n",fragmentShader:"\n  uniform float uTime;\n  uniform float uSpeed;\n  uniform vec3 uColor;\n  varying vec2 vUv;\n\n  void main() {\n    vec2 uv = vUv;\n    float time = uTime * uSpeed * 0.1;\n    float stripe = smoothstep(0.5, 0.51, fract(uv.x * 5.0 + uv.y * 10.0 - time));\n    float wave = sin(uv.y * 20.0 + time * 2.0) * 0.1 + 0.9;\n    vec3 color = uColor * (stripe * 0.5 + 0.5) * wave;\n    gl_FragColor = vec4(color, 1.0);\n  }\n",uniforms:{uTime:{value:0},uSpeed:{value:b.current.wormholeSpeed},uColor:{value:new ed.Q1f(0xbf00ff)}},side:ed.hsX,transparent:!0,blending:ed.EZo});let s=new ed.eaF(r,N);n.add(s),n.add(l.current),n.add(c.current)}else if("portals"===t||"infinity"===t){n.background=new ed.Q1f(8900331),n.fog=new ed.jUj(8900331,75,400);let e=new ed.dth(0xffffff,4491349,2.5);n.add(e);let a=new ed.ZyN(0xffffff,4);a.position.set(50,50,50),a.castShadow=!0,a.shadow.mapSize.width=2048,a.shadow.mapSize.height=2048,n.add(a);let r=new ed.bdM(1e3,1e3),s=new ed.G_z({color:0x99ff99}),i=new ed.eaF(r,s);i.rotation.x=-Math.PI/2,i.receiveShadow=!0,n.add(i),p.current=new ed.YJl,n.add(p.current);let o="infinity"===t,d=new ed._4j({color:o?13260:26367}),l=new ed.eaF(new ed.Ho_(.3,.3,.8,16),d);l.position.y=1.2,l.castShadow=!0,p.current.add(l);let c=new ed.eaF(new ed.Gu$(.25,16,16),new ed._4j({color:0xffdbac}));c.position.y=1.8,c.castShadow=!0,p.current.add(c);let f=new ed.eaF(new ed.Gu$(.27,16,16,0,2*Math.PI,0,Math.PI),new ed._4j({color:1118481}));f.position.y=1.8,p.current.add(f);let m=new ed._4j({color:o?0xcc0000:2237030}),h=new ed.eaF(new ed.Ho_(.15,.1,.8,16),m);h.position.set(-.15,.4,0),h.castShadow=!0,p.current.add(h);let x=h.clone();x.position.set(.15,.4,0),p.current.add(x);let g=new ed.eaF(new ed.Ho_(.1,.08,.7,16),d);g.castShadow=!0;let v=g.clone();v.position.set(-.4,1.2,0),v.rotation.z=Math.PI/8,p.current.add(v);let w=g.clone();if(w.position.set(.4,1.2,0),w.rotation.z=-Math.PI/8,p.current.add(w),o){let e=new ed.eaF(new ed.iNn(.6,1,.1),new ed._4j({color:0xcc0000}));e.position.y=.8,e.position.z=-.3,e.castShadow=!0,p.current.add(e)}else{let e=new ed.eaF(new ed.bdM(.4,.08),new ed._4j({color:0xff0000,side:ed.$EB}));e.name="propeller",e.position.y=2.2,e.castShadow=!0;let t=new ed.eaF(new ed.Ho_(.15,.15,.1,16),new ed._4j({color:0xffdd00}));t.position.y=2.05,t.castShadow=!0,p.current.add(t);let a=new ed.eaF(new ed.Ho_(.02,.02,.1,8),new ed._4j({color:0x999999}));a.position.y=2.15,a.castShadow=!0,p.current.add(a),p.current.add(e)}if(o)for(let e=0;e<200;e++){let e=3*Math.random()+1,t=new ed.Gu$(e,16,16),a=new ed._4j({color:new ed.Q1f(Math.random(),Math.random(),Math.random())}),r=new ed.eaF(t,a);b.current.universeSize,r.position.set((Math.random()-.5)*b.current.universeSize,20*Math.random()+e,(Math.random()-.5)*b.current.universeSize),r.castShadow=!0,u.current.push({mesh:r,velocity:new ed.Pq0,canTeleport:!1}),n.add(r)}else{let e=new ed.fTw(100,100);n.add(e)}}let S=e=>{let a=e.key.toLowerCase();if(["w","a","s","d","q","e","f","p","o","shift","control"].includes(a)&&e.preventDefault(),x.current[a]=!0,"f"===a){let e="infinity"===t,a=new ed.Gu$(e?2:b.current.ballSize,16,16),r=new ed._4j({color:0xffff00,emissive:0xffff00,emissiveIntensity:.5}),i=new ed.eaF(a,r);i.castShadow=!0;let o=new ed.Pq0;s.getWorldDirection(o);let d=h.current.clone().add(new ed.Pq0(0,1.5,0));i.position.copy(d).add(o.clone().multiplyScalar(e?4:1.5));let l=o.multiplyScalar(e?2.5:.8);e||(l.y+=.2),n.add(i),u.current.push({mesh:i,velocity:l,canTeleport:!0})}if(("p"===a||"o"===a)&&"portals"===t&&p.current){let e="p"===a,t=e?f:m,r=new ed.bdM(4,4),s=new ed._4j({color:e?255:0xff0000,side:ed.$EB,transparent:!0,opacity:.8}),i=new ed.eaF(r,s);i.castShadow=!0;let o=new ed.Pq0;p.current.getWorldDirection(o),o.multiplyScalar(-1);let d=h.current.clone().add(o.multiplyScalar(3));d.y=2,i.position.copy(d),i.rotation.copy(p.current.rotation),n.add(i),t.current.push(i)}},M=e=>{x.current[e.key.toLowerCase()]=!1},z=e=>{e.preventDefault(),i.isDragging=!0,i.previousMousePosition={x:e.clientX,y:e.clientY}},k=()=>{i.isDragging=!1},C=e=>{if(!i.isDragging)return;e.preventDefault();let t=e.clientX-i.previousMousePosition.x,a=e.clientY-i.previousMousePosition.y;i.rotation.y+=.005*t,i.rotation.x-=.005*a,i.previousMousePosition={x:e.clientX,y:e.clientY}},R=e=>{e.preventDefault();let t=b.current.distance+.05*e.deltaY;t=ed.cj9.clamp(t,5,80),g.current({distance:t})};window.addEventListener("keydown",S),window.addEventListener("keyup",M),a.addEventListener("mousedown",z),window.addEventListener("mouseup",k),a.addEventListener("mousemove",C),a.addEventListener("wheel",R,{passive:!1});let E=()=>{if(!d.current)return;let{clientWidth:e,clientHeight:t}=a;s.aspect=e/t,s.updateProjectionMatrix(),r.setSize(e,t)},P=new ResizeObserver(E);P.observe(a),E();let _=new ed.zD7,F=()=>{e=requestAnimationFrame(F);let a=_.getElapsedTime(),{rotation:o}=i,{distance:d,wormholeSpeed:c,universeSize:g}=b.current;if("portals"===t||"infinity"===t){let e="infinity"===t,a=e?1:.2,r=new ed.Pq0;s.getWorldDirection(r),e||(r.y=0,r.normalize());let n=new ed.Pq0;if(n.crossVectors(new ed.Pq0(0,1,0),r).normalize(),x.current.w&&h.current.addScaledVector(r,a),x.current.s&&h.current.addScaledVector(r,-a),x.current.a&&h.current.addScaledVector(n,a),x.current.d&&h.current.addScaledVector(n,-a),e&&(x.current.shift&&(h.current.y+=a),x.current.control&&(h.current.y-=a)),x.current.q&&(i.rotation.y-=.02),x.current.e&&(i.rotation.y+=.02),e){let e=g/2;h.current.x>e&&(h.current.x=-e),h.current.x<-e&&(h.current.x=e),h.current.z>e&&(h.current.z=-e),h.current.z<-e&&(h.current.z=e)}let l=f.current,c=m.current,b=[...l,...c];if(b.length>0){let e=h.current.clone().add(new ed.Pq0(0,1.5,0));if(v.current){let t=!0;for(let a of b)if(3.5>=e.distanceTo(a.position)){t=!1;break}t&&(v.current=!1)}else{let t=!1;if(c.length>0){for(let a of l)if(2.5>e.distanceTo(a.position)){let e=c[Math.floor(Math.random()*c.length)];h.current.copy(e.position).add(new ed.Pq0(0,0,1)),v.current=!0,t=!0;break}}if(!t&&l.length>0){for(let t of c)if(2.5>e.distanceTo(t.position)){let e=l[Math.floor(Math.random()*l.length)];h.current.copy(e.position).add(new ed.Pq0(0,0,1)),v.current=!0;break}}}u.current.forEach(e=>{if(e.canTeleport){let t=!1;if(c.length>0){for(let a of l)if(2.5>e.mesh.position.distanceTo(a.position)){let a=c[Math.floor(Math.random()*c.length)];e.mesh.position.copy(a.position).add(new ed.Pq0(0,0,1)),e.canTeleport=!1,t=!0;break}}if(!t&&l.length>0){for(let t of c)if(2.5>e.mesh.position.distanceTo(t.position)){let t=l[Math.floor(Math.random()*l.length)];e.mesh.position.copy(t.position).add(new ed.Pq0(0,0,1)),e.canTeleport=!1;break}}}else{let t=!0;for(let a of b)if(3.5>=e.mesh.position.distanceTo(a.position)){t=!1;break}t&&(e.canTeleport=!0)}})}if(!e){let e=new ed.Pq0(0,-.01,0);u.current.forEach(t=>{let a=t.mesh.geometry.parameters.radius;t.mesh.position.y>0+a&&t.velocity.add(e),t.mesh.position.add(t.velocity),t.mesh.position.y<0+a&&(t.mesh.position.y=0+a,t.velocity.y*=-.3,.05>Math.abs(t.velocity.y)&&(t.velocity.y=0))})}let w=u.current;for(let t=0;t<w.length;t++){for(let e=t+1;e<w.length;e++){let a=w[t],r=w[e],n=new ed.Pq0().subVectors(a.mesh.position,r.mesh.position),s=n.length(),i=a.mesh.geometry.parameters.radius+r.mesh.geometry.parameters.radius;if(s<i){let e=i-s,t=n.clone().normalize().multiplyScalar(.5*e);a.mesh.position.add(t),r.mesh.position.sub(t);let o=n.normalize(),d=new ed.Pq0().subVectors(a.velocity,r.velocity).dot(o);if(d<0){let e=-(1.8*d);a.velocity.add(o.clone().multiplyScalar(e)),r.velocity.sub(o.clone().multiplyScalar(e))}}}if(e){let e=g/2;w[t].mesh.position.x>e&&(w[t].mesh.position.x=-e),w[t].mesh.position.x<-e&&(w[t].mesh.position.x=e),w[t].mesh.position.z>e&&(w[t].mesh.position.z=-e),w[t].mesh.position.z<-e&&(w[t].mesh.position.z=e)}}if(p.current){p.current.position.copy(h.current),p.current.rotation.y=o.y+Math.PI;let e=p.current.getObjectByName("propeller");e&&(e.rotation.y+=.3)}i.rotation.x=ed.cj9.clamp(i.rotation.x,-Math.PI/2.2,Math.PI/2.2);let y=h.current.clone().add(new ed.Pq0(0,1.5,0)),j=new ed.Pq0(d*Math.sin(o.y)*Math.cos(o.x),d*Math.sin(o.x),d*Math.cos(o.y)*Math.cos(o.x));s.position.copy(y).add(j),e||(s.position.y=Math.max(s.position.y,1)),s.lookAt(y)}else i.rotation.x=ed.cj9.clamp(i.rotation.x,-Math.PI/2+.1,Math.PI/2-.1),s.position.x=d*Math.sin(o.y)*Math.cos(o.x),s.position.y=d*Math.sin(o.x),s.position.z=d*Math.cos(o.y)*Math.cos(o.x),s.lookAt(n.position);j.rotation.y=.01*a,"wormhole"===t&&N&&(N.uniforms.uTime.value=a,N.uniforms.uSpeed.value=c,l.current.children.forEach((e,t)=>{e.rotation.x+=.002+1e-4*t,e.rotation.y+=.002+1e-4*t})),r.render(n,s)};return F(),()=>{cancelAnimationFrame(e),window.removeEventListener("keydown",S),window.removeEventListener("keyup",M),a.removeEventListener("mousedown",z),window.removeEventListener("mouseup",k),a.removeEventListener("mousemove",C),a.removeEventListener("wheel",R),P.unobserve(a),u.current.forEach(e=>{n.remove(e.mesh),e.mesh.geometry.dispose(),e.mesh.material.dispose()}),u.current=[],f.current.forEach(e=>{n.remove(e),e.geometry.dispose(),e.material.dispose()}),m.current.forEach(e=>{n.remove(e),e.geometry.dispose(),e.material.dispose()}),f.current=[],m.current=[],r.domElement.parentElement===a&&a.removeChild(r.domElement),n.traverse(e=>{if(e instanceof ed.eaF){e.geometry.dispose();let t=e.material;Array.isArray(t)?t.forEach(e=>e.dispose()):t.dispose()}}),n.clear(),r.dispose()}},[t,a.universeSize]),(0,n.useEffect)(()=>{if("wormhole"!==t)return void l.current.clear();let e=l.current,a=new Map(e.children.map(e=>[e.userData.id,e])),r=new Map(s.map(e=>[e.id,e]));a.forEach((t,a)=>{r.has(a)||e.remove(t)}),r.forEach((t,r)=>{if(!a.has(r)){let a;switch(t.type){case"cube":a=new ed.iNn(2,2,2);break;case"sphere":a=new ed.Gu$(1.5,32,16);break;case"cone":a=new ed.qFE(1.5,3,32)}let n=new ed._4j({color:4915330,metalness:.6,roughness:.1,emissive:4915330,emissiveIntensity:.2}),s=new ed.eaF(a,n);s.userData.id=r,s.position.set((Math.random()-.5)*30,(Math.random()-.5)*30,(Math.random()-.5)*30-20),e.add(s)}})},[s,t]),(0,n.useEffect)(()=>{if("wormhole"!==t)return void c.current.clear();let e=c.current,a=new Map(e.children.map(e=>[e.userData.id,e])),r=new Map(i.map(e=>[e.id,e]));a.forEach((t,a)=>{r.has(a)||e.remove(t)}),r.forEach((t,r)=>{if(!a.has(r)){let t=new ed.O3Y(1.5,.2,16,100),a=new ed._4j({color:0xbf00ff,metalness:.8,roughness:.2,emissive:0xbf00ff,emissiveIntensity:.3}),n=new ed.eaF(t,a);n.userData.id=r,n.position.set((Math.random()-.5)*20,(Math.random()-.5)*20,(Math.random()-.5)*40-20),n.rotation.x=Math.random()*Math.PI,n.rotation.y=Math.random()*Math.PI,e.add(n)}})},[i,t]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{ref:d,className:"absolute inset-0 w-full h-full"}),("portals"===t||"infinity"===t)&&(0,r.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white text-2xl font-mono pointer-events-none opacity-50 select-none",children:"+"})]})}let ec={wormholeSpeed:1,distance:25,ballSize:.3,universeSize:100};function eu(){let[e,t]=(0,n.useState)(ec),[a,s]=(0,n.useState)([]),[i,o]=(0,n.useState)("wormhole"),[d,l]=(0,n.useState)([]),c=(0,n.useCallback)(e=>{t(t=>({...t,...e}))},[]),u=(0,n.useCallback)(e=>{o(e),s([]),l([]);let a=25;"portals"===e&&(a=25),"wormhole"===e&&(a=15),"infinity"===e&&(a=35),t(e=>({...e,distance:a}))},[]);return(0,r.jsxs)(R,{children:[(0,r.jsx)(eo,{universeType:i,onUniverseChange:u,onAddGeometry:e=>{s(t=>[...t,{id:Date.now(),type:e}])},onAddWormhole:()=>{l(e=>[...e,{id:Date.now()}])},onConfigChange:c,initialSpeed:e.wormholeSpeed,initialDistance:e.distance,initialBallSize:e.ballSize,initialUniverseSize:e.universeSize}),(0,r.jsx)(P,{children:(0,r.jsx)(el,{universeType:i,config:e,geometries:a,placedWormholes:d,onConfigChange:c})})]})}},9434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>s});var r=a(2596),n=a(9688);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.QP)((0,r.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[367,965,145,441,684,358],()=>t(2751)),_N_E=e.O()}]);